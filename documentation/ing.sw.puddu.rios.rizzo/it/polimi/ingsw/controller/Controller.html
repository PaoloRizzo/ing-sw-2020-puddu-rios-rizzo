<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="it">
<head>
<!-- Generated by javadoc (11.0.6) on Mon May 11 22:09:18 CEST 2020 -->
<title>Controller</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="dc.created" content="2020-05-11">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../../jquery/jquery-3.4.1.js"></script>
<script type="text/javascript" src="../../../../../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="Controller";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10,"i18":10,"i19":10,"i20":10,"i21":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../module-summary.html">Module</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="moduleLabelInType">Module</span>&nbsp;<a href="../../../../module-summary.html">ing.sw.puddu.rios.rizzo</a></div>
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">it.polimi.ingsw.controller</a></div>
<h2 title="Class Controller" class="title">Class Controller</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>it.polimi.ingsw.controller.Controller</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><code><a href="ControllerInterface.html" title="interface in it.polimi.ingsw.controller">ControllerInterface</a></code></dd>
</dl>
<hr>
<pre>public class <span class="typeNameLabel">Controller</span>
extends java.lang.Object
implements <a href="ControllerInterface.html" title="interface in it.polimi.ingsw.controller">ControllerInterface</a></pre>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Field</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#accept">accept</a></span></code></th>
<td class="colLast">
<div class="block">these variables are used to check the correctness of the methods called on the controller
 by the views during the connection phase</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#acceptNumPlayers">acceptNumPlayers</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#ackReceived">ackReceived</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../model/Model.html" title="class in it.polimi.ingsw.model">Model</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#model">model</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#nextId">nextId</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private java.util.Map&lt;java.lang.Integer,&#8203;<a href="../view/View.html" title="class in it.polimi.ingsw.view">View</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#viewMap">viewMap</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private java.util.List&lt;<a href="../view/View.html" title="class in it.polimi.ingsw.view">View</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#views">views</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E()">Controller</a></span>()</code></th>
<td class="colLast">
<div class="block">constructs the Model
 sets up the internal variables of the controller</div>
</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ========== METHOD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#ackId(int)">ackId</a></span>&#8203;(int&nbsp;id)</code></th>
<td class="colLast">
<div class="block">checks that the ack received is the correct one
 this means that it checks that it has received acks for all previous ids
 also allows for another view to be added by setting accept to true</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#addView(it.polimi.ingsw.view.View)">addView</a></span>&#8203;(<a href="../view/View.html" title="class in it.polimi.ingsw.view">View</a>&nbsp;view)</code></th>
<td class="colLast">
<div class="block">adds the view to the controller, and univocally maps it to an integer
 blocks further views from being added until an ack for this one is received
 adds the view to the model as an observer of the feed
 starts the client associated with the view</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#deleteId(int)">deleteId</a></span>&#8203;(int&nbsp;id)</code></th>
<td class="colLast">
<div class="block">gets the view related to the id using the map,
 removes it from the model and the controller
 and finally deletes the entry of the map that relates to the id</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#generateId()">generateId</a></span>()</code></th>
<td class="colLast">
<div class="block">publishes the next free id</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code><a href="../model/Model.html" title="class in it.polimi.ingsw.model">Model</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getModel()">getModel</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getNextId()">getNextId</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getNumPlayers()">getNumPlayers</a></span>()</code></th>
<td class="colLast">
<div class="block">if it has been decided, returns the number of players that will be allowed to participate
 in the game through the feed</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>java.util.Map&lt;java.lang.Integer,&#8203;<a href="../view/View.html" title="class in it.polimi.ingsw.view">View</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getViewMap()">getViewMap</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>java.util.List&lt;<a href="../view/View.html" title="class in it.polimi.ingsw.view">View</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getViews()">getViews</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#kill()">kill</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#publishAction(int,it.polimi.ingsw.model.Action)">publishAction</a></span>&#8203;(int&nbsp;id,
             <a href="../model/Action.html" title="class in it.polimi.ingsw.model">Action</a>&nbsp;action)</code></th>
<td class="colLast">
<div class="block">checks that it is the requesting client's turn
 and that the proposed action is possible
 if the checks go well, executes it and wakes a waiting thread</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#publishCards(int,java.util.List)">publishCards</a></span>&#8203;(int&nbsp;id,
            java.util.List&lt;java.lang.Integer&gt;&nbsp;numCards)</code></th>
<td class="colLast">
<div class="block">checks that the request to publish the cards is legit, by checking:
 that the chooser is the first player
 that the cards have not yet been chosen
 that the number of cards being chosen matches the number of players

 if the request passes these checks, memorizes the chosen cards and notifies
 the choice through the feed
 Moreover, if the request is accepted awakes a thread that was waiting
 This is useful because when these cards are requested the requesting threads go in wait
 if the cards haven't been chosen yet</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#publishVoluntaryEndOfTurn(int)">publishVoluntaryEndOfTurn</a></span>&#8203;(int&nbsp;id)</code></th>
<td class="colLast">
<div class="block">MAY ADVANCE THE TURN
 if it is possible to end the turn, initiates the next turn</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#requestActions(int)">requestActions</a></span>&#8203;(int&nbsp;id)</code></th>
<td class="colLast">
<div class="block">waits until it is the requesting player's turn
 once it is, sends the possible actions through the feed, if there are any
 moreover, wakes possible waiting threads</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#requestAllPlayersConnected()">requestAllPlayersConnected</a></span>()</code></th>
<td class="colLast">
<div class="block">if the number of players is set
 and if all the clients that are allowed to connect have actually connected, notifies this
 news through the feed</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#requestCards(int)">requestCards</a></span>&#8203;(int&nbsp;id)</code></th>
<td class="colLast">
<div class="block">waits until it is the requesting client's turn and the cards have been chosen
 once that happens, notifies the choice of cards to the requester on the feed
 moreover, wakes another thread, which may have been waiting on the same condition</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#requestDeck()">requestDeck</a></span>()</code></th>
<td class="colLast">
<div class="block">sends the deck through the feed</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#requestToSetupWorker(int)">requestToSetupWorker</a></span>&#8203;(int&nbsp;id)</code></th>
<td class="colLast">
<div class="block">waits until it is the requesting client's turn
 once it is, gets the possible setup actions from the controller and sends them through the feed
 moreover, wakes threads that may be waiting</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setCard(int,int)">setCard</a></span>&#8203;(int&nbsp;id,
       int&nbsp;numCard)</code></th>
<td class="colLast">
<div class="block">checks that the action is allowed, by checking that:
 it is the requesting client's turn
 the card has not yet been taken by someone else
 if the checks pass, saves the association between the client and the card
 and wakes threads that may be waiting on their turn
 Given how the fsm on the client works, this method should only be called
 after the client has confirmed that it is their turn by receiving an answer for a requestCards</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setName(int,java.lang.String)">setName</a></span>&#8203;(int&nbsp;id,
       java.lang.String&nbsp;name)</code></th>
<td class="colLast">
<div class="block">checks that the name is valid, and if it is adds the relative Player to the model
 in particular, it checks:
 that the id belongs to a client that is allowed to join the game,
 that there is no registered name for that id
 that an ack has been received from that id
 that the number of players has been set
 that the name has not been claimed already</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setNumPlayers(int,int)">setNumPlayers</a></span>&#8203;(int&nbsp;id,
             int&nbsp;numPlayers)</code></th>
<td class="colLast">
<div class="block">if the numPlayers is acceptable at the time (which happens after the ack for the id 0
 and the numPlayers has an acceptable value, it sets it
 notifies the caller of the success or failure of the operation
 if the setting is successful, sets acceptNumPlayers as false so that it cannot be set again</div>
</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setupWorker(int,it.polimi.ingsw.model.SetupAction)">setupWorker</a></span>&#8203;(int&nbsp;id,
           <a href="../model/SetupAction.html" title="class in it.polimi.ingsw.model">SetupAction</a>&nbsp;setupAction)</code></th>
<td class="colLast">
<div class="block">MAY ADVANCE THE TURN through model.executeSetupAction
 checks that it is the requesting client's turn and that the proposed setup action is possible
 if all is well, executes the action and wakes possible waiting threads</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a id="views">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>views</h4>
<pre>private&nbsp;java.util.List&lt;<a href="../view/View.html" title="class in it.polimi.ingsw.view">View</a>&gt; views</pre>
</li>
</ul>
<a id="model">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>model</h4>
<pre>private&nbsp;<a href="../model/Model.html" title="class in it.polimi.ingsw.model">Model</a> model</pre>
</li>
</ul>
<a id="viewMap">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>viewMap</h4>
<pre>private&nbsp;java.util.Map&lt;java.lang.Integer,&#8203;<a href="../view/View.html" title="class in it.polimi.ingsw.view">View</a>&gt; viewMap</pre>
</li>
</ul>
<a id="nextId">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>nextId</h4>
<pre>private&nbsp;int nextId</pre>
</li>
</ul>
<a id="accept">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>accept</h4>
<pre>boolean accept</pre>
<div class="block">these variables are used to check the correctness of the methods called on the controller
 by the views during the connection phase</div>
</li>
</ul>
<a id="acceptNumPlayers">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>acceptNumPlayers</h4>
<pre>boolean acceptNumPlayers</pre>
</li>
</ul>
<a id="ackReceived">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>ackReceived</h4>
<pre>int ackReceived</pre>
</li>
</ul>
</li>
</ul>
</section>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a id="&lt;init&gt;()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>Controller</h4>
<pre>public&nbsp;Controller()</pre>
<div class="block">constructs the Model
 sets up the internal variables of the controller</div>
</li>
</ul>
</li>
</ul>
</section>
<!-- ============ METHOD DETAIL ========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="getViews()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getViews</h4>
<pre class="methodSignature">public&nbsp;java.util.List&lt;<a href="../view/View.html" title="class in it.polimi.ingsw.view">View</a>&gt;&nbsp;getViews()</pre>
</li>
</ul>
<a id="getViewMap()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getViewMap</h4>
<pre class="methodSignature">public&nbsp;java.util.Map&lt;java.lang.Integer,&#8203;<a href="../view/View.html" title="class in it.polimi.ingsw.view">View</a>&gt;&nbsp;getViewMap()</pre>
</li>
</ul>
<a id="getNextId()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNextId</h4>
<pre class="methodSignature">public&nbsp;int&nbsp;getNextId()</pre>
</li>
</ul>
<a id="getModel()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getModel</h4>
<pre class="methodSignature">public&nbsp;<a href="../model/Model.html" title="class in it.polimi.ingsw.model">Model</a>&nbsp;getModel()</pre>
</li>
</ul>
<a id="addView(it.polimi.ingsw.view.View)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addView</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;addView&#8203;(<a href="../view/View.html" title="class in it.polimi.ingsw.view">View</a>&nbsp;view)</pre>
<div class="block">adds the view to the controller, and univocally maps it to an integer
 blocks further views from being added until an ack for this one is received
 adds the view to the model as an observer of the feed
 starts the client associated with the view</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>view</code> - that is being added</dd>
</dl>
</li>
</ul>
<a id="generateId()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>generateId</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;generateId()</pre>
<div class="block">publishes the next free id</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="ControllerInterface.html#generateId()">generateId</a></code>&nbsp;in interface&nbsp;<code><a href="ControllerInterface.html" title="interface in it.polimi.ingsw.controller">ControllerInterface</a></code></dd>
</dl>
</li>
</ul>
<a id="ackId(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ackId</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;ackId&#8203;(int&nbsp;id)</pre>
<div class="block">checks that the ack received is the correct one
 this means that it checks that it has received acks for all previous ids
 also allows for another view to be added by setting accept to true</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="ControllerInterface.html#ackId(int)">ackId</a></code>&nbsp;in interface&nbsp;<code><a href="ControllerInterface.html" title="interface in it.polimi.ingsw.controller">ControllerInterface</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - of the client that is sending the ack</dd>
</dl>
</li>
</ul>
<a id="setNumPlayers(int,int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setNumPlayers</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setNumPlayers&#8203;(int&nbsp;id,
                          int&nbsp;numPlayers)</pre>
<div class="block">if the numPlayers is acceptable at the time (which happens after the ack for the id 0
 and the numPlayers has an acceptable value, it sets it
 notifies the caller of the success or failure of the operation
 if the setting is successful, sets acceptNumPlayers as false so that it cannot be set again</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="ControllerInterface.html#setNumPlayers(int,int)">setNumPlayers</a></code>&nbsp;in interface&nbsp;<code><a href="ControllerInterface.html" title="interface in it.polimi.ingsw.controller">ControllerInterface</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - of the client that is trying to set the numPlayers</dd>
<dd><code>numPlayers</code> - number of the players that the client wishes to have in the game</dd>
</dl>
</li>
</ul>
<a id="getNumPlayers()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNumPlayers</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;getNumPlayers()</pre>
<div class="block">if it has been decided, returns the number of players that will be allowed to participate
 in the game through the feed</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="ControllerInterface.html#getNumPlayers()">getNumPlayers</a></code>&nbsp;in interface&nbsp;<code><a href="ControllerInterface.html" title="interface in it.polimi.ingsw.controller">ControllerInterface</a></code></dd>
</dl>
</li>
</ul>
<a id="requestAllPlayersConnected()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>requestAllPlayersConnected</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;requestAllPlayersConnected()</pre>
<div class="block">if the number of players is set
 and if all the clients that are allowed to connect have actually connected, notifies this
 news through the feed</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="ControllerInterface.html#requestAllPlayersConnected()">requestAllPlayersConnected</a></code>&nbsp;in interface&nbsp;<code><a href="ControllerInterface.html" title="interface in it.polimi.ingsw.controller">ControllerInterface</a></code></dd>
</dl>
</li>
</ul>
<a id="setName(int,java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setName</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setName&#8203;(int&nbsp;id,
                    java.lang.String&nbsp;name)</pre>
<div class="block">checks that the name is valid, and if it is adds the relative Player to the model
 in particular, it checks:
 that the id belongs to a client that is allowed to join the game,
 that there is no registered name for that id
 that an ack has been received from that id
 that the number of players has been set
 that the name has not been claimed already</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="ControllerInterface.html#setName(int,java.lang.String)">setName</a></code>&nbsp;in interface&nbsp;<code><a href="ControllerInterface.html" title="interface in it.polimi.ingsw.controller">ControllerInterface</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - of the client that is requesting the name</dd>
<dd><code>name</code> - that is being requested</dd>
</dl>
</li>
</ul>
<a id="deleteId(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deleteId</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;deleteId&#8203;(int&nbsp;id)</pre>
<div class="block">gets the view related to the id using the map,
 removes it from the model and the controller
 and finally deletes the entry of the map that relates to the id</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="ControllerInterface.html#deleteId(int)">deleteId</a></code>&nbsp;in interface&nbsp;<code><a href="ControllerInterface.html" title="interface in it.polimi.ingsw.controller">ControllerInterface</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - of the client that wants to be deleted</dd>
</dl>
</li>
</ul>
<a id="requestDeck()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>requestDeck</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;requestDeck()</pre>
<div class="block">sends the deck through the feed</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="ControllerInterface.html#requestDeck()">requestDeck</a></code>&nbsp;in interface&nbsp;<code><a href="ControllerInterface.html" title="interface in it.polimi.ingsw.controller">ControllerInterface</a></code></dd>
</dl>
</li>
</ul>
<a id="publishCards(int,java.util.List)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>publishCards</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;publishCards&#8203;(int&nbsp;id,
                         java.util.List&lt;java.lang.Integer&gt;&nbsp;numCards)</pre>
<div class="block">checks that the request to publish the cards is legit, by checking:
 that the chooser is the first player
 that the cards have not yet been chosen
 that the number of cards being chosen matches the number of players

 if the request passes these checks, memorizes the chosen cards and notifies
 the choice through the feed
 Moreover, if the request is accepted awakes a thread that was waiting
 This is useful because when these cards are requested the requesting threads go in wait
 if the cards haven't been chosen yet</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="ControllerInterface.html#publishCards(int,java.util.List)">publishCards</a></code>&nbsp;in interface&nbsp;<code><a href="ControllerInterface.html" title="interface in it.polimi.ingsw.controller">ControllerInterface</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - of the client sending his choice of cards</dd>
<dd><code>numCards</code> - list of the cards chosen, identified by their number</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#requestCards(int)"><code>requestCards(int id)</code></a></dd>
</dl>
</li>
</ul>
<a id="requestCards(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>requestCards</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;requestCards&#8203;(int&nbsp;id)
                  throws java.lang.InterruptedException</pre>
<div class="block">waits until it is the requesting client's turn and the cards have been chosen
 once that happens, notifies the choice of cards to the requester on the feed
 moreover, wakes another thread, which may have been waiting on the same condition</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="ControllerInterface.html#requestCards(int)">requestCards</a></code>&nbsp;in interface&nbsp;<code><a href="ControllerInterface.html" title="interface in it.polimi.ingsw.controller">ControllerInterface</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - of the client that requests the cards</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.InterruptedException</code> - if the wait is interrupted</dd>
</dl>
</li>
</ul>
<a id="setCard(int,int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setCard</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setCard&#8203;(int&nbsp;id,
                    int&nbsp;numCard)</pre>
<div class="block">checks that the action is allowed, by checking that:
 it is the requesting client's turn
 the card has not yet been taken by someone else
 if the checks pass, saves the association between the client and the card
 and wakes threads that may be waiting on their turn
 Given how the fsm on the client works, this method should only be called
 after the client has confirmed that it is their turn by receiving an answer for a requestCards</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="ControllerInterface.html#setCard(int,int)">setCard</a></code>&nbsp;in interface&nbsp;<code><a href="ControllerInterface.html" title="interface in it.polimi.ingsw.controller">ControllerInterface</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - </dd>
<dd><code>numCard</code> - </dd>
</dl>
</li>
</ul>
<a id="requestToSetupWorker(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>requestToSetupWorker</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;requestToSetupWorker&#8203;(int&nbsp;id)
                          throws java.lang.InterruptedException</pre>
<div class="block">waits until it is the requesting client's turn
 once it is, gets the possible setup actions from the controller and sends them through the feed
 moreover, wakes threads that may be waiting</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="ControllerInterface.html#requestToSetupWorker(int)">requestToSetupWorker</a></code>&nbsp;in interface&nbsp;<code><a href="ControllerInterface.html" title="interface in it.polimi.ingsw.controller">ControllerInterface</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - of the requesting client</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.InterruptedException</code> - if the wait is interrupted</dd>
</dl>
</li>
</ul>
<a id="setupWorker(int,it.polimi.ingsw.model.SetupAction)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setupWorker</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setupWorker&#8203;(int&nbsp;id,
                        <a href="../model/SetupAction.html" title="class in it.polimi.ingsw.model">SetupAction</a>&nbsp;setupAction)</pre>
<div class="block">MAY ADVANCE THE TURN through model.executeSetupAction
 checks that it is the requesting client's turn and that the proposed setup action is possible
 if all is well, executes the action and wakes possible waiting threads</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="ControllerInterface.html#setupWorker(int,it.polimi.ingsw.model.SetupAction)">setupWorker</a></code>&nbsp;in interface&nbsp;<code><a href="ControllerInterface.html" title="interface in it.polimi.ingsw.controller">ControllerInterface</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - of the requesting client</dd>
<dd><code>setupAction</code> - an action that places a worker on the board</dd>
</dl>
</li>
</ul>
<a id="requestActions(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>requestActions</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;requestActions&#8203;(int&nbsp;id)
                    throws java.lang.InterruptedException</pre>
<div class="block">waits until it is the requesting player's turn
 once it is, sends the possible actions through the feed, if there are any
 moreover, wakes possible waiting threads</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="ControllerInterface.html#requestActions(int)">requestActions</a></code>&nbsp;in interface&nbsp;<code><a href="ControllerInterface.html" title="interface in it.polimi.ingsw.controller">ControllerInterface</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - of the requesting client</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.InterruptedException</code> - if the wait is interrupted</dd>
</dl>
</li>
</ul>
<a id="publishAction(int,it.polimi.ingsw.model.Action)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>publishAction</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;publishAction&#8203;(int&nbsp;id,
                          <a href="../model/Action.html" title="class in it.polimi.ingsw.model">Action</a>&nbsp;action)</pre>
<div class="block">checks that it is the requesting client's turn
 and that the proposed action is possible
 if the checks go well, executes it and wakes a waiting thread</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="ControllerInterface.html#publishAction(int,it.polimi.ingsw.model.Action)">publishAction</a></code>&nbsp;in interface&nbsp;<code><a href="ControllerInterface.html" title="interface in it.polimi.ingsw.controller">ControllerInterface</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - of the requesting client</dd>
<dd><code>action</code> - an action that the player wants to perform in their turn</dd>
</dl>
</li>
</ul>
<a id="publishVoluntaryEndOfTurn(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>publishVoluntaryEndOfTurn</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;publishVoluntaryEndOfTurn&#8203;(int&nbsp;id)</pre>
<div class="block">MAY ADVANCE THE TURN
 if it is possible to end the turn, initiates the next turn</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="ControllerInterface.html#publishVoluntaryEndOfTurn(int)">publishVoluntaryEndOfTurn</a></code>&nbsp;in interface&nbsp;<code><a href="ControllerInterface.html" title="interface in it.polimi.ingsw.controller">ControllerInterface</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - of the requesting client</dd>
</dl>
</li>
</ul>
<a id="kill()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>kill</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;kill()</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="ControllerInterface.html#kill()">kill</a></code>&nbsp;in interface&nbsp;<code><a href="ControllerInterface.html" title="interface in it.polimi.ingsw.controller">ControllerInterface</a></code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../module-summary.html">Module</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
</footer>
</body>
</html>
